import{b as g}from"./init-22028896.js";console.log("Script started successfully");let a;var m="https://buenni86.github.io/hm-station/reset_logo.png",u="https://buenni86.github.io/hm-station/back_logo.png",b="https://buenni86.github.io/hm-station/fwd_logo.png",A="https://buenni86.github.io/hm-station/mainmap_logo.png",i="https://play.workadventu.re/@/db-systel/dbevents/hm-bahnhof#specialZones/enterFromLabyrinth",U="../dbevents/hm-joblabyrinth";WA.ui.actionBar.addButton({id:"reset",type:"action",imageSrc:m,toolTip:"Zurück zum Start",callback:async()=>{WA.nav.goToRoom(U)}});WA.ui.actionBar.addButton({id:"back",type:"action",imageSrc:u,toolTip:"Bring mich zurück zur letzten Plattform",callback:async()=>{h()}});WA.ui.actionBar.addButton({id:"forward",type:"action",imageSrc:b,toolTip:"Bring mich zur nächsten Plattform",callback:async()=>{d()}});WA.ui.actionBar.addButton({id:"stop",type:"action",imageSrc:A,toolTip:"Keine Lust mehr - bring mich zurück zur Hauptmap",callback:async()=>{WA.nav.goToPage(i)}});const n=new Map([["popUpArea0","popUp0"],["popUpArea1","popUp1"],["popUpArea2","popUp2"],["popUpArea3","popUp3"],["popUpArea4","popUp4"],["popUpArea5","popUp5"],["popUpArea6","popUp6"],["popUpArea7","popUp7"],["popUpArea8","popUp8"],["popUpArea9","popUp9"],["popUpArea10","popUp10"],["popUpArea11","popUp11"],["popUpArea12","popUp22"],["popUpArea13","popUp13"],["popUpArea14","popUp14"],["popUpArea15","popUp15"]]);var f="Möchtest du das Labyrinth verlassen?",y="Ja",P="Nein";function e(){a!==void 0&&(a.close(),a=void 0)}WA.onInit().then(async()=>{g().then(()=>{console.log("Scripting API Extra ready");for(const o of n.keys())WA.room.area.onEnter(o).subscribe(()=>{a=WA.ui.openPopup(n.get(o),f,[{label:y,callback:t=>{WA.nav.goToPage(i),e()}},{label:P,callback:t=>{e()}}])}),WA.room.area.onLeave(o).subscribe(()=>{e()})}).catch(o=>console.error(o))}).catch(o=>console.error(o));const c=new Map([[0,[3995,3674]],[1,[4464,4206]],[2,[4788,5038]],[3,[4497,3058]],[4,[2656,3187]],[5,[1439,3855]],[6,[63,4813]],[7,[300,4013]],[8,[1126,2896]],[9,[1579,1519]],[10,[1903,2449]],[11,[2860,2035]],[12,[4180,1897]],[13,[2580,749]],[14,[618,172]],[15,[3484,304]]]);async function s(){var o=await WA.player.getPosition();WA.player.state.lastPosX=o.x,WA.player.state.lastPosY=o.y}function l(o){let t=c.get(o+1);console.log("next platform content: "+o+1);let p=t[0],r=t[1];console.log("next platform pos: "+p,r),WA.player.state.nextPlatformPosX=p,WA.player.state.nextPlatformPosY=r}for(const o of c.keys())WA.room.area.onLeave(o.toString()).subscribe(()=>{s(),l(o)}),WA.room.area.onEnter(o.toString()).subscribe(()=>{s(),l(o)});function h(){let o=WA.player.state.lastPosX,t=WA.player.state.lastPosY;console.log("last Pos:"+o+t),o&&WA.player.moveTo(o,t)}function d(){let o=WA.player.state.nextPlatformPosX,t=WA.player.state.nextPlatformPosY;o&&WA.player.moveTo(o,t)}
